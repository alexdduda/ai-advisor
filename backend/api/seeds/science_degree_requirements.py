"""
McGill Faculty of Science – Degree Requirements Seed Data
Source: McGill Course Catalogue 2025-2026
https://coursecatalogue.mcgill.ca/en/undergraduate/science/

Accuracy notes:
  - Verified from official McGill eCalendar / Course Catalogue (2025-26)
  - Always cross-check with current catalogue before academic decisions
  - "recommended" flags are author suggestions, not official requirements
"""

SCIENCE_PROGRAMS = [

  # ══════════════════════════════════════════════════════════════════════
  #  COMPUTER SCIENCE
  # ══════════════════════════════════════════════════════════════════════
  {
    "program_key": "cs_minor_bsc",
    "name": "Computer Science – Minor (B.Sc.) (24 credits)",
    "program_type": "minor",
    "faculty": "Faculty of Science",
    "total_credits": 24,
    "description": (
      "A Minor in Computer Science for students whose primary program is outside the School of "
      "Computer Science. Provides a basic introduction to CS principles."
    ),
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/computer-science-minor-bsc/",
    "blocks": [
      {
        "block_key": "cs_minor_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 9,
        "courses_needed": None,
        "group_name": None,
        "notes": "Students exempt from COMP 202 replace it with another COMP course.",
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",        "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",  "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",    "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "cs_minor_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 15,
        "courses_needed": None,
        "group_name": None,
        "notes": "15 credits from COMP 300+ (or COMP 206).",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms",      "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "303", "title": "Software Design",                          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "307", "title": "Introduction to Web Development",          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "330", "title": "Theory of Computation",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "409", "title": "Concurrent Programming",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "420", "title": "Logic and Computation",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",                  "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "462", "title": "Combinatorial Optimization",               "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "547", "title": "Cryptography and Data Security",           "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",                 "credits": 3, "is_required": False, "recommended": True, "recommendation_reason": "Essential for AI/data science careers"},
          {"subject": "COMP", "catalog": "557", "title": "Fundamentals of Computer Networks",        "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "cs_liberal_bsc",
    "name": "Computer Science Liberal Program – Core Science Component (B.Sc.) (45 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 45,
    "description": (
      "Provides an introduction to computer science principles. At 45 credits it allows "
      "combination with minor or major concentrations in other disciplines."
    ),
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/computer-science-liberal-program-core-component-bsc/",
    "blocks": [
      {
        "block_key": "cs_lib_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 33,
        "courses_needed": None,
        "group_name": None,
        "notes": "Students exempt from COMP 202 replace it with an approved COMP elective.",
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",         "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",   "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",  "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms","credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "140", "title": "Calculus 1",                         "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "141", "title": "Calculus 2",                         "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                         "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "cs_lib_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from COMP 300+. At least 9 credits at 400+.",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "303", "title": "Software Design",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "307", "title": "Introduction to Web Development",    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                  "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "330", "title": "Theory of Computation",              "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "420", "title": "Logic and Computation",              "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",            "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "462", "title": "Combinatorial Optimization",         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "547", "title": "Cryptography and Data Security",     "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",           "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "557", "title": "Fundamentals of Computer Networks",  "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "cs_major_bsc",
    "name": "Computer Science Major (B.Sc.) (63 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 63,
    "description": (
      "The standard Major program by the School of Computer Science. Provides a broad "
      "introduction to CS principles with in-depth coverage of several sub-disciplines. "
      "Can be completed with 60 credits if exempt from COMP 202."
    ),
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/computer-science-major-bsc/",
    "blocks": [
      {
        "block_key": "cs_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 45,
        "courses_needed": None,
        "group_name": None,
        "notes": (
          "MATH 223 may be replaced by MATH 235+236. "
          "MATH 240 may be replaced by MATH 235 if not already used above."
        ),
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",          "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",   "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms","credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "303", "title": "Software Design",                    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                  "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "330", "title": "Theory of Computation",              "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                   "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "140", "title": "Calculus 1",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "141", "title": "Calculus 2",                          "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                 "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "cs_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from COMP 300+. At least 12 credits at 400+. Max 6 credits from COMP 396/490/497/499.",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "307", "title": "Introduction to Web Development",          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "321", "title": "Topics in Systems Programming",            "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "362", "title": "Honours Algorithm Design",                 "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "409", "title": "Concurrent Programming",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "417", "title": "Introduction to Robotics and Intelligent Systems","credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "420", "title": "Logic and Computation",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",                  "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "462", "title": "Combinatorial Optimization",               "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "512", "title": "System Validation",                        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "520", "title": "Compiler Design",                          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "522", "title": "Modelling and Verification",               "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "535", "title": "Distributed Systems",                      "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "547", "title": "Cryptography and Data Security",           "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",                 "credits": 3, "is_required": False, "recommended": True, "recommendation_reason": "Highly relevant for modern software and AI/ML fields"},
          {"subject": "COMP", "catalog": "557", "title": "Fundamentals of Computer Networks",        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "558", "title": "Computer Vision",                          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "560", "title": "Graph Algorithms and Applications",        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "564", "title": "Computational Complexity Theory",          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "596", "title": "Undergraduate Research Project",           "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "software_engineering_major_bsc",
    "name": "Software Engineering Major (B.Sc.) (63 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 63,
    "description": "Focuses on rigorous software development methods, design patterns, and the full software lifecycle alongside core CS theory.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/software-engineering-major-bsc/",
    "blocks": [
      {
        "block_key": "se_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 54,
        "courses_needed": None,
        "group_name": None,
        "notes": "Students exempt from COMP 202 substitute an approved elective.",
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",           "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",      "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms", "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "303", "title": "Software Design",                     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "307", "title": "Introduction to Web Development",     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                   "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "330", "title": "Theory of Computation",               "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                    "credits": 3, "is_required": True},
          {"subject": "ECSE", "catalog": "321", "title": "Introduction to Software Engineering","credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "140", "title": "Calculus 1",                           "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "141", "title": "Calculus 2",                           "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                           "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                  "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "se_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 9,
        "courses_needed": None,
        "group_name": None,
        "notes": "9 credits from approved COMP 400-500 level electives.",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "409", "title": "Concurrent Programming",              "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "417", "title": "Introduction to Robotics and Intelligent Systems","credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",             "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "512", "title": "System Validation",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "520", "title": "Compiler Design",                     "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "522", "title": "Modelling and Verification",          "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "535", "title": "Distributed Systems",                 "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "547", "title": "Cryptography and Data Security",      "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",            "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "557", "title": "Fundamentals of Computer Networks",   "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "cs_honours_bsc",
    "name": "Computer Science Honours (B.Sc.) (72 credits)",
    "program_type": "honours",
    "faculty": "Faculty of Science",
    "total_credits": 72,
    "description": (
      "A rigorous, research-oriented program for students with strong aptitude who may wish to "
      "pursue graduate studies. Uses COMP 252 and COMP 362 instead of COMP 251/360."
    ),
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/computer-science-honours-bsc/",
    "blocks": [
      {
        "block_key": "cs_hon_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 51,
        "courses_needed": None,
        "group_name": None,
        "notes": "COMP 252 and COMP 362 replace COMP 251 and COMP 360 compared to the Major.",
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",              "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",        "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",       "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "252", "title": "Honours Algorithms and Data Structures", "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "303", "title": "Software Design",                        "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                      "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "330", "title": "Theory of Computation",                  "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "362", "title": "Honours Algorithm Design",               "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "400", "title": "Honours Research Project 1",             "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "140", "title": "Calculus 1",                              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "141", "title": "Calculus 2",                              "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                     "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "cs_hon_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 21,
        "courses_needed": None,
        "group_name": None,
        "notes": "21 credits from COMP 300+. At least 15 credits at 400+.",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "409", "title": "Concurrent Programming",               "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "420", "title": "Logic and Computation",                "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                     "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",              "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "462", "title": "Combinatorial Optimization",           "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "512", "title": "System Validation",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "520", "title": "Compiler Design",                      "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "527", "title": "Logic and Computation (Grad)",         "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "535", "title": "Distributed Systems",                  "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "547", "title": "Cryptography and Data Security",       "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",             "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "552", "title": "Honours Algorithms",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "557", "title": "Fundamentals of Computer Networks",    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "558", "title": "Computer Vision",                      "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "564", "title": "Computational Complexity Theory",      "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "cs_biology_major_bsc",
    "name": "Computer Science and Biology Major (B.Sc.) (74 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 74,
    "description": (
      "Focuses on biological fundamentals and the computational/mathematical skills to manage, "
      "analyze, and model large biological datasets. Min 63 credits possible."
    ),
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/computer-science/computer-science-biology-major-bsc/",
    "blocks": [
      {
        "block_key": "csbio_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 62,
        "courses_needed": None,
        "group_name": None,
        "notes": "Take COMP 202 or COMP 204 (not both). CEGEP credits may exempt MATH 222 and/or CHEM 212.",
        "sort_order": 1,
        "courses": [
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",          "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",   "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms","credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "401", "title": "Bioinformatics",                     "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "462", "title": "Combinatorial Optimization",         "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "111", "title": "Principles of Biology 1 (Organismal)", "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "112", "title": "Principles of Biology 2 (Cell/Molecular)","credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "200", "title": "Molecular Biology",                  "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "201", "title": "Cell Biology and Metabolism",        "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "300", "title": "Biostatistics",                      "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "110", "title": "General Chemistry 1",                "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "120", "title": "General Chemistry 2",                "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "212", "title": "Introductory Organic Chemistry 1",   "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "140", "title": "Calculus 1",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "141", "title": "Calculus 2",                          "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                 "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "csbio_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from approved COMP and BIOL electives.",
        "sort_order": 2,
        "courses": [
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                    "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",             "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",            "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "301", "title": "Population Biology",                  "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "304", "title": "Genetics",                            "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "306", "title": "Developmental Biology",               "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "373", "title": "Neurobiology",                        "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  # ══════════════════════════════════════════════════════════════════════
  #  MATHEMATICS & STATISTICS
  # ══════════════════════════════════════════════════════════════════════
  {
    "program_key": "math_minor_bsc",
    "name": "Mathematics Minor (B.Sc.) (24 credits)",
    "program_type": "minor",
    "faculty": "Faculty of Science",
    "total_credits": 24,
    "description": "May be combined with any primary program in the Faculty of Science other than Mathematics programs. Max 6 credits overlap with primary program (relaxed to 9 or 12 for larger programs).",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/mathematics-minor-bsc/",
    "blocks": [
      {
        "block_key": "math_minor_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 9,
        "courses_needed": None,
        "group_name": None,
        "notes": "MATH 223 may be replaced by MATH 235+236 (complementary req. reduced by 3 credits).",
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra", "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",      "credits": 3, "is_required": False, "notes": "Alternative to MATH 223"},
          {"subject": "MATH", "catalog": "236", "title": "Algebra 2",      "credits": 3, "is_required": False, "notes": "Used with MATH 235 as substitute for MATH 223"},
        ],
      },
      {
        "block_key": "math_minor_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 15,
        "courses_needed": None,
        "group_name": None,
        "notes": "15 credits from MATH 300+. MATH 323 Probability strongly recommended. Up to 6 credits from other departments allowed.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "316", "title": "Complex Variables",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                         "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "318", "title": "Mathematical Logic",                 "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "319", "title": "Introduction to Partial Differential Equations","credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "320", "title": "Real Analysis 1",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "323", "title": "Probability",                        "credits": 3, "is_required": False, "recommended": True, "recommendation_reason": "Strongly recommended by department"},
          {"subject": "MATH", "catalog": "324", "title": "Statistics",                         "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "326", "title": "Nonlinear Dynamics and Chaos",       "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "327", "title": "Matrix Numerical Analysis",          "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "340", "title": "Discrete Mathematics",               "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "346", "title": "Number Theory",                      "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "350", "title": "Graph Theory and Combinatorics",     "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",                 "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "430", "title": "Mathematical Finance",               "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "454", "title": "Honours Analysis 3",                 "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "470", "title": "Honours Number Theory",              "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "475", "title": "Honours Combinatorics",              "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "statistics_minor_bsc",
    "name": "Statistics Minor (B.Sc.) (24 credits)",
    "program_type": "minor",
    "faculty": "Faculty of Science",
    "total_credits": 24,
    "description": "May be combined with any primary program in the Faculty of Science other than Mathematics/Statistics programs.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/statistics-minor-bsc/",
    "blocks": [
      {
        "block_key": "stat_minor_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",   "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra","credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "323", "title": "Probability",  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "324", "title": "Statistics",   "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "stat_minor_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from statistics-related courses at 300+.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "424", "title": "Regression and Analysis of Variance", "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "427", "title": "Introduction to Stochastic Processes","credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "523", "title": "Generalized Linear Models",           "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "524", "title": "Nonparametric Statistics",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "525", "title": "Sampling Theory and Applications",   "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "545", "title": "Introduction to Time Series Analysis","credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "556", "title": "Mathematical Statistics 1",           "credits": 4, "is_required": False},
          {"subject": "MATH", "catalog": "557", "title": "Mathematical Statistics 2",           "credits": 4, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "mathematics_major_bsc",
    "name": "Mathematics Major (B.Sc.) (57 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 57,
    "description": "Thorough introduction to the main branches of mathematics including analysis, algebra, geometry, probability, and applied mathematics.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/mathematics-major-bsc/",
    "blocks": [
      {
        "block_key": "math_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 33,
        "courses_needed": None,
        "group_name": None,
        "notes": "MATH 323 Probability strongly recommended.",
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                 "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "236", "title": "Algebra 2",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations","credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "316", "title": "Complex Variables",              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "320", "title": "Real Analysis 1",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "323", "title": "Probability",                    "credits": 3, "is_required": True, "recommended": True, "recommendation_reason": "Essential for many graduate programs and applications"},
        ],
      },
      {
        "block_key": "math_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 24,
        "courses_needed": None,
        "group_name": None,
        "notes": "24 credits from MATH 300+ or approved courses in other departments.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "318", "title": "Mathematical Logic",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "319", "title": "Introduction to PDEs",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "321", "title": "Real Analysis 2",                       "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "324", "title": "Statistics",                            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "326", "title": "Nonlinear Dynamics and Chaos",          "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "327", "title": "Matrix Numerical Analysis",             "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "329", "title": "Theory of Interest",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "340", "title": "Discrete Mathematics",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "346", "title": "Number Theory",                         "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "348", "title": "Topics in Geometry",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "350", "title": "Graph Theory and Combinatorics",        "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "380", "title": "Honours Algebra 3",                     "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "381", "title": "Complex Analysis",                      "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "430", "title": "Mathematical Finance",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "437", "title": "Honours Algebra 4",                     "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "454", "title": "Honours Analysis 3",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "455", "title": "Honours Analysis 4",                    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "462", "title": "Honours Applied Mathematics",           "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "470", "title": "Honours Number Theory",                 "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "475", "title": "Honours Combinatorics",                 "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "mathematics_honours_bsc",
    "name": "Mathematics Honours (B.Sc.) (69 credits)",
    "program_type": "honours",
    "faculty": "Faculty of Science",
    "total_credits": 69,
    "description": "For students with high mathematical aptitude who may wish to pursue graduate study. Provides thorough grounding in pure mathematics.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/mathematics-honours-bsc/",
    "blocks": [
      {
        "block_key": "math_hon_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 51,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",                         "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "236", "title": "Algebra 2",                         "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "243", "title": "Analysis 2",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "254", "title": "Honours Analysis 1",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "255", "title": "Honours Analysis 2",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",   "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "316", "title": "Complex Variables",                 "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "318", "title": "Mathematical Logic",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "356", "title": "Honours Probability",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "380", "title": "Honours Algebra 3",                 "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "381", "title": "Complex Analysis",                  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "454", "title": "Honours Analysis 3",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "455", "title": "Honours Analysis 4",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "470", "title": "Honours Number Theory",             "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "564", "title": "Advanced Real Analysis 1",          "credits": 4, "is_required": True},
        ],
      },
      {
        "block_key": "math_hon_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from MATH 400+.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "437", "title": "Honours Algebra 4",             "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "458", "title": "Honours Differential Geometry", "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "465", "title": "Honours Algebra 5",             "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "466", "title": "Theory of Distributions",       "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "475", "title": "Honours Combinatorics",         "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "487", "title": "Honours Applied Algebra",       "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "565", "title": "Advanced Real Analysis 2",      "credits": 4, "is_required": False},
          {"subject": "MATH", "catalog": "566", "title": "Advanced Complex Analysis",     "credits": 4, "is_required": False},
          {"subject": "MATH", "catalog": "570", "title": "Higher Algebra 1",              "credits": 4, "is_required": False},
          {"subject": "MATH", "catalog": "571", "title": "Higher Algebra 2",              "credits": 4, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "statistics_major_bsc",
    "name": "Statistics Major (B.Sc.) (57 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 57,
    "description": "Solid foundation in statistical theory and methods with applications in science, social science, and industry.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/statistics-major-bsc/",
    "blocks": [
      {
        "block_key": "stat_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 39,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                   "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "323", "title": "Probability",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "324", "title": "Statistics",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "427", "title": "Introduction to Stochastic Processes","credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "523", "title": "Generalized Linear Models",        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "556", "title": "Mathematical Statistics 1",        "credits": 4, "is_required": True},
        ],
      },
      {
        "block_key": "stat_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from approved MATH/COMP courses.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "320", "title": "Real Analysis 1",                     "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "356", "title": "Honours Probability",                 "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "357", "title": "Honours Statistics",                  "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "424", "title": "Regression and Analysis of Variance", "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "524", "title": "Nonparametric Statistics",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "525", "title": "Sampling Theory and Applications",   "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "533", "title": "Honours Mathematical Statistics 1",   "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "545", "title": "Introduction to Time Series Analysis","credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "557", "title": "Mathematical Statistics 2",           "credits": 4, "is_required": False},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",   "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",            "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "statistics_honours_bsc",
    "name": "Statistics Honours (B.Sc.) (69 credits)",
    "program_type": "honours",
    "faculty": "Faculty of Science",
    "total_credits": 69,
    "description": "For students intending graduate study in statistics or a related quantitative field.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/statistics-honours-bsc/",
    "blocks": [
      {
        "block_key": "stat_hon_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 51,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "254", "title": "Honours Analysis 1",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "255", "title": "Honours Analysis 2",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "356", "title": "Honours Probability",              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "357", "title": "Honours Statistics",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "427", "title": "Introduction to Stochastic Processes","credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "523", "title": "Generalized Linear Models",        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "533", "title": "Honours Mathematical Statistics 1", "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "534", "title": "Honours Mathematical Statistics 2", "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "556", "title": "Mathematical Statistics 1",        "credits": 4, "is_required": True},
          {"subject": "MATH", "catalog": "557", "title": "Mathematical Statistics 2",        "credits": 4, "is_required": True},
        ],
      },
      {
        "block_key": "stat_hon_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from MATH 400+ or approved electives.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "447", "title": "Introduction to Stochastic Processes (Hons)","credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "524", "title": "Nonparametric Statistics",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "525", "title": "Sampling Theory and Applications",   "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "545", "title": "Introduction to Time Series Analysis","credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",            "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "applied_mathematics_major_bsc",
    "name": "Applied Mathematics Major (B.Sc.) (60 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 60,
    "description": "Combines mathematical theory with applications in science and engineering, including differential equations, numerical methods, and mathematical modeling.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/applied-mathematics-major-bsc/",
    "blocks": [
      {
        "block_key": "amath_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 42,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "314", "title": "Advanced Calculus",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations", "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "316", "title": "Complex Variables",               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "319", "title": "Introduction to PDEs",            "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "323", "title": "Probability",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "327", "title": "Matrix Numerical Analysis",       "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics","credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism","credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",      "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science","credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "amath_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from MATH 300+ or approved PHYS/COMP courses.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "326", "title": "Nonlinear Dynamics and Chaos",    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "380", "title": "Honours Algebra 3",               "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "387", "title": "Honours Numerical Analysis",      "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "430", "title": "Mathematical Finance",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "462", "title": "Honours Applied Mathematics",     "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "540", "title": "Life Contingencies 1",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "541", "title": "Life Contingencies 2",            "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "230", "title": "Dynamics of Simple Systems",      "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "446", "title": "Statistical Mechanics",           "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "biology_mathematics_major_bsc",
    "name": "Biology and Mathematics Major (B.Sc.) (76 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 76,
    "description": "A joint major combining rigorous mathematics training with a comprehensive biology curriculum. Excellent for students interested in mathematical/computational biology.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/mathematics-statistics/biology-mathematics-major-bsc/",
    "blocks": [
      {
        "block_key": "biomaths_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 64,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                  "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "235", "title": "Algebra 1",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "242", "title": "Analysis 1",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations", "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "323", "title": "Probability",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "324", "title": "Statistics",                      "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "111", "title": "Principles of Biology 1",         "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "112", "title": "Principles of Biology 2",         "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "200", "title": "Molecular Biology",               "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "201", "title": "Cell Biology and Metabolism",     "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "202", "title": "Introduction to Evolution",       "credits": 3, "is_required": True},
          {"subject": "BIOL", "catalog": "300", "title": "Biostatistics",                   "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "110", "title": "General Chemistry 1",             "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "120", "title": "General Chemistry 2",             "credits": 3, "is_required": True},
          {"subject": "CHEM", "catalog": "212", "title": "Introductory Organic Chemistry 1","credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics","credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism","credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "biomaths_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from approved MATH and BIOL courses.",
        "sort_order": 2,
        "courses": [
          {"subject": "MATH", "catalog": "317", "title": "Calculus 4",                      "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "319", "title": "Introduction to PDEs",            "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "326", "title": "Nonlinear Dynamics and Chaos",    "credits": 3, "is_required": False},
          {"subject": "MATH", "catalog": "423", "title": "Applied Regression",              "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "301", "title": "Population Biology",              "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "302", "title": "Ecology",                         "credits": 3, "is_required": False},
          {"subject": "BIOL", "catalog": "304", "title": "Genetics",                        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "401", "title": "Bioinformatics",                  "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  # ══════════════════════════════════════════════════════════════════════
  #  PHYSICS
  # ══════════════════════════════════════════════════════════════════════
  {
    "program_key": "physics_minor_bsc",
    "name": "Physics Minor (B.Sc.) (24 credits)",
    "program_type": "minor",
    "faculty": "Faculty of Science",
    "total_credits": 24,
    "description": "May be combined with any primary program in the Faculty of Science.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/physics/physics-minor-bsc/",
    "blocks": [
      {
        "block_key": "phys_minor_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics",         "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism",  "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "230", "title": "Dynamics of Simple Systems",               "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "251", "title": "Honours Classical Mechanics 1",            "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "phys_minor_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from PHYS 200+.",
        "sort_order": 2,
        "courses": [
          {"subject": "PHYS", "catalog": "232", "title": "Optics",                                   "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "242", "title": "Waves",                                    "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "252", "title": "Honours Classical Mechanics 2",            "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "257", "title": "Experimental Physics 1",                  "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "260", "title": "Modern Physics",                           "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "305", "title": "Biophysics",                               "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "333", "title": "Thermal Physics",                          "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "342", "title": "Quantum Physics",                          "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "362", "title": "Electromagnetic Waves",                    "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "430", "title": "Advanced Quantum Mechanics",               "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "446", "title": "Statistical Mechanics",                    "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "460", "title": "Condensed Matter Physics 1",               "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "466", "title": "Astrophysics",                             "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "469", "title": "Cosmology",                                "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "physics_major_bsc",
    "name": "Physics Major (B.Sc.) (63 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 63,
    "description": "Thorough grounding in classical and quantum physics, electromagnetism, thermodynamics, and experimental methods.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/physics/physics-major-bsc/",
    "blocks": [
      {
        "block_key": "phys_major_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 45,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics",        "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism", "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "230", "title": "Dynamics of Simple Systems",              "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "251", "title": "Honours Classical Mechanics 1",           "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "252", "title": "Honours Classical Mechanics 2",           "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "257", "title": "Experimental Physics 1",                 "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "258", "title": "Experimental Physics 2",                 "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "260", "title": "Modern Physics",                          "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "342", "title": "Quantum Physics",                         "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "362", "title": "Electromagnetic Waves",                   "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "446", "title": "Statistical Mechanics",                   "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "450", "title": "Electromagnetic Theory 1",                "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "314", "title": "Advanced Calculus",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",         "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "phys_major_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from PHYS 300+.",
        "sort_order": 2,
        "courses": [
          {"subject": "PHYS", "catalog": "305", "title": "Biophysics",                              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "333", "title": "Thermal Physics",                         "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "430", "title": "Advanced Quantum Mechanics",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "451", "title": "Electromagnetic Theory 2",                "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "457", "title": "Honours Advanced Experimental Lab",       "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "460", "title": "Condensed Matter Physics 1",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "461", "title": "Condensed Matter Physics 2",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "466", "title": "Astrophysics",                            "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "469", "title": "Cosmology",                               "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "536", "title": "Quantum Optics and Lasers",               "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "559", "title": "Special Topics in Physics",               "credits": 3, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "physics_honours_bsc",
    "name": "Honours Physics (B.Sc.) (72 credits)",
    "program_type": "honours",
    "faculty": "Faculty of Science",
    "total_credits": 72,
    "description": "For students with strong aptitude intending graduate studies. Includes a research thesis component.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/physics/honours-physics-bsc/",
    "blocks": [
      {
        "block_key": "phys_hon_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 54,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics",         "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism",  "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "230", "title": "Dynamics of Simple Systems",               "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "251", "title": "Honours Classical Mechanics 1",            "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "252", "title": "Honours Classical Mechanics 2",            "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "257", "title": "Experimental Physics 1",                  "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "258", "title": "Experimental Physics 2",                  "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "260", "title": "Modern Physics",                           "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "333", "title": "Thermal Physics",                          "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "342", "title": "Quantum Physics",                          "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "362", "title": "Electromagnetic Waves",                    "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "430", "title": "Advanced Quantum Mechanics",               "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "446", "title": "Statistical Mechanics",                    "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "450", "title": "Electromagnetic Theory 1",                 "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "457", "title": "Honours Advanced Experimental Lab",        "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "459", "title": "Advanced Experimental Research",           "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                               "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "314", "title": "Advanced Calculus",                        "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",          "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "phys_hon_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 18,
        "courses_needed": None,
        "group_name": None,
        "notes": "18 credits from PHYS 400+.",
        "sort_order": 2,
        "courses": [
          {"subject": "PHYS", "catalog": "451", "title": "Electromagnetic Theory 2",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "460", "title": "Condensed Matter Physics 1",            "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "461", "title": "Condensed Matter Physics 2",            "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "466", "title": "Astrophysics",                          "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "469", "title": "Cosmology",                             "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "536", "title": "Quantum Optics and Lasers",             "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "559", "title": "Special Topics in Physics",             "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "589", "title": "Honours Thesis",                        "credits": 6, "is_required": False},
        ],
      },
    ],
  },

  {
    "program_key": "physics_computer_science_major_bsc",
    "name": "Physics and Computer Science Major (B.Sc.) (72 credits)",
    "program_type": "major",
    "faculty": "Faculty of Science",
    "total_credits": 72,
    "description": "A joint major combining the mathematical rigor of physics with the problem-solving techniques of computer science.",
    "ecalendar_url": "https://coursecatalogue.mcgill.ca/en/undergraduate/science/programs/physics/physics-computer-science-major-bsc/",
    "blocks": [
      {
        "block_key": "physcs_req",
        "title": "Required Courses",
        "block_type": "required",
        "credits_needed": 60,
        "courses_needed": None,
        "group_name": None,
        "notes": None,
        "sort_order": 1,
        "courses": [
          {"subject": "PHYS", "catalog": "101", "title": "Introductory Physics – Mechanics",        "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "102", "title": "Introductory Physics – Electromagnetism", "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "230", "title": "Dynamics of Simple Systems",              "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "251", "title": "Honours Classical Mechanics 1",           "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "260", "title": "Modern Physics",                          "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "342", "title": "Quantum Physics",                         "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "362", "title": "Electromagnetic Waves",                   "credits": 3, "is_required": True},
          {"subject": "PHYS", "catalog": "446", "title": "Statistical Mechanics",                   "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "202", "title": "Foundations of Programming",              "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "206", "title": "Introduction to Software Systems",        "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "250", "title": "Introduction to Computer Science",       "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "251", "title": "Algorithms and Data Structures",         "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "302", "title": "Programming Languages and Paradigms",    "credits": 3, "is_required": True},
          {"subject": "COMP", "catalog": "310", "title": "Operating Systems",                      "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "222", "title": "Calculus 3",                              "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "223", "title": "Linear Algebra",                          "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "240", "title": "Discrete Structures",                     "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "314", "title": "Advanced Calculus",                       "credits": 3, "is_required": True},
          {"subject": "MATH", "catalog": "315", "title": "Ordinary Differential Equations",         "credits": 3, "is_required": True},
        ],
      },
      {
        "block_key": "physcs_comp",
        "title": "Complementary Courses",
        "block_type": "choose_credits",
        "credits_needed": 12,
        "courses_needed": None,
        "group_name": None,
        "notes": "12 credits from PHYS 300+ or COMP 300+.",
        "sort_order": 2,
        "courses": [
          {"subject": "PHYS", "catalog": "430", "title": "Advanced Quantum Mechanics",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "450", "title": "Electromagnetic Theory 1",                "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "460", "title": "Condensed Matter Physics 1",              "credits": 3, "is_required": False},
          {"subject": "PHYS", "catalog": "466", "title": "Astrophysics",                            "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "360", "title": "Algorithm Design",                        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "421", "title": "Database Systems",                        "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "424", "title": "Artificial Intelligence",                 "credits": 3, "is_required": False},
          {"subject": "COMP", "catalog": "551", "title": "Applied Machine Learning",                "credits": 3, "is_required": False},
        ],
      },
    ],
  },

]  # END SCIENCE_PROGRAMS Part 1


def seed_degree_requirements(supabase):
    """
    Insert all Science degree requirements into Supabase.
    Safe to re-run: uses upsert on program_key, then deletes+reinserts blocks.
    """
    from api.seeds.science_degree_requirements_part2 import SCIENCE_PROGRAMS_PART2
    from api.seeds.science_degree_requirements_part3 import SCIENCE_PROGRAMS_PART3

    all_programs = SCIENCE_PROGRAMS + SCIENCE_PROGRAMS_PART2 + SCIENCE_PROGRAMS_PART3

    inserted_programs = 0
    inserted_blocks = 0
    inserted_courses = 0

    for prog in all_programs:
        prog_data = {
            "program_key":   prog["program_key"],
            "name":          prog["name"],
            "faculty":       prog.get("faculty", "Faculty of Science"),
            "program_type":  prog["program_type"],
            "total_credits": prog.get("total_credits") or 0,
            "description":   prog.get("description"),
            "ecalendar_url": prog.get("ecalendar_url"),
        }
        result = supabase.table("degree_programs").upsert(
            prog_data, on_conflict="program_key"
        ).execute()
        prog_id = result.data[0]["id"]
        inserted_programs += 1

        supabase.table("requirement_blocks").delete().eq("program_id", prog_id).execute()

        for i, block in enumerate(prog.get("blocks", [])):
            constraint_notes = block.get("constraint_notes") or block.get("notes") or ""
            block_data = {
                "program_id":       prog_id,
                "block_key":        block.get("block_key", f"block_{i}"),
                "title":            block.get("title", ""),
                "block_type":       block.get("block_type", "choose_credits"),
                "group_name":       block.get("group_name"),
                "courses_needed":   block.get("courses_needed"),
                "constraint_notes": constraint_notes,
                "credits_needed":   block.get("credits_needed"),
                "min_level":        block.get("min_level"),
                "max_credits_200":  block.get("max_credits_200"),
                "min_credits_400":  block.get("min_credits_400"),
                "notes":            block.get("notes", ""),
                "sort_order":       block.get("sort_order", i),
            }
            block_result = supabase.table("requirement_blocks").insert(block_data).execute()
            block_id = block_result.data[0]["id"]
            inserted_blocks += 1

            for j, course in enumerate(block.get("courses", [])):
                is_required = course.get("is_required", False)
                if block.get("block_type") == "required":
                    is_required = True
                course_data = {
                    "block_id":              block_id,
                    "subject":               course.get("subject", ""),
                    "catalog":               course.get("catalog"),
                    "title":                 course.get("title", ""),
                    "credits":               course.get("credits", 3),
                    "is_required":           is_required,
                    "choose_from_group":     course.get("choose_from_group"),
                    "choose_n_credits":      course.get("choose_n_credits"),
                    "notes":                 course.get("notes"),
                    "recommended":           course.get("recommended", False),
                    "recommendation_reason": course.get("recommendation_reason"),
                    "sort_order":            j,
                }
                supabase.table("requirement_courses").insert(course_data).execute()
                inserted_courses += 1

    return {
        "programs": inserted_programs,
        "blocks":   inserted_blocks,
        "courses":  inserted_courses,
    }


if __name__ == "__main__":
    import os, sys
    sys.path.insert(0, os.path.join(os.path.dirname(__file__), ".."))
    from api.utils.supabase_client import get_supabase
    supabase = get_supabase()
    stats = seed_degree_requirements(supabase)
    print(f"Seeded: {stats['programs']} programs, {stats['blocks']} blocks, {stats['courses']} courses")
