/* ══════════════════════════════════════════════════════
   PROFILE SETUP — Onboarding wizard
   All values use the site's CSS variable system
   ══════════════════════════════════════════════════════ */

.ps-page {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-secondary);
  padding: 2rem 1rem;
}

.ps-container {
  width: 100%;
  max-width: 600px;
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
  padding: 2rem 2rem 1.75rem;
  animation: psIn 0.22s ease;
}

@keyframes psIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── Header ──────────────────────────────────────────── */
.ps-header { display: flex; align-items: flex-start; gap: 1rem; margin-bottom: 1.5rem; }

.ps-header-icon {
  width: 44px; height: 44px; min-width: 44px; border-radius: 12px;
  background: var(--accent-lighter); color: var(--accent-primary);
  display: flex; align-items: center; justify-content: center;
  font-size: 1.2rem; margin-top: 2px; flex-shrink: 0;
}

/* Semantic variants */
.ps-header-icon--green { background: var(--success-light);  color: var(--success-primary); }
.ps-header-icon--blue  { background: var(--info-light);     color: var(--info-primary); }

.ps-title    { font-size: 1.25rem; font-weight: 700; color: var(--text-primary);   margin: 0 0 0.25rem; letter-spacing: -0.01em; }
.ps-subtitle { font-size: 0.875rem;                  color: var(--text-tertiary);  margin: 0; line-height: 1.5; }

/* ── Step bar ────────────────────────────────────────── */
.ps-stepbar {
  display: flex; align-items: center;
  margin-bottom: 1.5rem;
  padding: 0.875rem 1rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 10px;
}

.ps-stepbar-item { display: flex; align-items: center; gap: 0.5rem; flex: 1; }

.ps-stepbar-dot {
  width: 24px; height: 24px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.75rem; font-weight: 700; flex-shrink: 0;
  background: var(--bg-quaternary); color: var(--text-muted);
  transition: background 0.2s ease, color 0.2s ease;
}

.ps-stepbar-label {
  font-size: 0.8125rem; font-weight: 600; color: var(--text-tertiary);
  transition: color 0.2s ease;
}

.ps-stepbar-item.active .ps-stepbar-dot  { background: var(--accent-primary); color: #fff; }
.ps-stepbar-item.active .ps-stepbar-label { color: var(--text-primary); }
.ps-stepbar-item.done   .ps-stepbar-dot  { background: var(--success-primary); color: #fff; }
.ps-stepbar-item.done   .ps-stepbar-label { color: var(--text-secondary); }

.ps-stepbar-line {
  flex: 1; height: 2px;
  background: var(--border-primary);
  margin: 0 0.75rem;
  border-radius: 1px;
  transition: background 0.3s ease;
}
.ps-stepbar-line.filled { background: var(--success-primary); }

/* ── Alerts ──────────────────────────────────────────── */
.ps-alert {
  display: flex; align-items: flex-start; gap: 0.6rem;
  padding: 0.75rem 0.875rem; border-radius: 8px;
  font-size: 0.875rem; line-height: 1.5; margin-bottom: 1.25rem;
  animation: psIn 0.2s ease;
}
.ps-alert--error {
  background: var(--error-light);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: var(--error-text);
}
.ps-alert-icon { flex-shrink: 0; margin-top: 2px; }

/* ── Form elements (kept for any future re-use) ──────── */
.ps-form  { display: flex; flex-direction: column; gap: 1rem; }
.ps-row   { display: grid; grid-template-columns: 1fr 1fr; gap: 0.875rem; }
.ps-field { display: flex; flex-direction: column; gap: 0.375rem; }
.ps-field--grow { flex: 1; }
.ps-label { font-size: 0.8125rem; font-weight: 600; color: var(--text-primary); }

.ps-input {
  width: 100%; padding: 0.6875rem 0.875rem;
  background: var(--input-bg); border: 1.5px solid var(--input-border);
  border-radius: 8px; font-family: inherit; font-size: 0.9375rem; color: var(--input-text);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
  box-sizing: border-box; outline: none; appearance: none;
}
.ps-input::placeholder { color: var(--input-placeholder); }
.ps-input:hover:not(:disabled) { border-color: var(--input-border-hover); }
.ps-input:focus { border-color: var(--input-border-focus); box-shadow: 0 0 0 3px rgba(237, 27, 47, 0.1); }
.ps-input:disabled { background: var(--input-disabled-bg); color: var(--input-disabled-text); cursor: not-allowed; }

/* ── Actions row ─────────────────────────────────────── */
.ps-actions          { display: flex; align-items: center; gap: 0.75rem; margin-top: 0.25rem; }
.ps-actions--center  { justify-content: center; }

/* ── Buttons ─────────────────────────────────────────── */
.ps-btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 0.45rem; padding: 0.7rem 1.25rem; border-radius: 8px;
  font-family: inherit; font-size: 0.9375rem; font-weight: 600;
  cursor: pointer; transition: all 0.15s ease; border: none; white-space: nowrap;
}

.ps-btn--primary {
  background: var(--btn-primary-bg, var(--accent-primary));
  color: var(--btn-primary-text, #fff);
  box-shadow: 0 1px 4px rgba(237, 27, 47, 0.2);
}
.ps-btn--primary:hover:not(:disabled) {
  background: var(--btn-primary-hover, var(--accent-hover));
  box-shadow: 0 3px 10px rgba(237, 27, 47, 0.3);
  transform: translateY(-1px);
}
.ps-btn--primary:disabled { opacity: 0.45; cursor: not-allowed; transform: none; box-shadow: none; }

.ps-btn--secondary {
  background: var(--btn-secondary-bg, var(--bg-secondary));
  color: var(--btn-secondary-text, var(--text-primary));
  border: 1.5px solid var(--border-primary);
}
.ps-btn--secondary:hover:not(:disabled) {
  background: var(--btn-secondary-hover, var(--bg-tertiary));
  border-color: var(--border-hover);
}

.ps-btn--ghost { background: none; color: var(--text-tertiary); padding-left: 0.5rem; padding-right: 0.5rem; }
.ps-btn--ghost:hover:not(:disabled) { color: var(--text-secondary); background: var(--bg-hover); }

.ps-spin { animation: psSpin 0.65s linear infinite; }
@keyframes psSpin { to { transform: rotate(360deg); } }

/* ── Drop zone ───────────────────────────────────────── */
.ps-dropzone {
  border: 1.5px dashed var(--border-secondary);
  border-radius: 10px;
  background: var(--bg-secondary);
  transition: border-color 0.15s, background 0.15s;
  margin-bottom: 1rem;
  overflow: hidden;
}
.ps-dropzone:not(.ps-dropzone--has-file) { cursor: pointer; }
.ps-dropzone:not(.ps-dropzone--has-file):hover,
.ps-dropzone--over {
  border-color: var(--accent-primary);
  background: var(--accent-lighter);
}
.ps-dropzone--has-file {
  border-color: var(--success-primary);
  border-style: solid;
  background: var(--success-light);
}

.ps-dropzone-empty { padding: 2rem 1.5rem; text-align: center; }
.ps-dropzone-icon  { font-size: 2rem; color: var(--accent-primary); display: block; margin: 0 auto 0.625rem; }
.ps-dropzone-main  { font-size: 0.9375rem; font-weight: 600; color: var(--text-primary); margin: 0 0 0.375rem; }
.ps-dropzone-sub   { font-size: 0.78rem; color: var(--text-muted); margin: 0; }

.ps-dropzone-file  { display: flex; align-items: center; gap: 0.75rem; padding: 0.875rem 1rem; }
.ps-dropzone-check { font-size: 1.25rem; color: var(--success-primary); flex-shrink: 0; }
.ps-dropzone-filename { display: block; font-size: 0.9rem; font-weight: 600; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin: 0 0 0.125rem; }
.ps-dropzone-filesize { font-size: 0.78rem; color: var(--text-tertiary); margin: 0; }
.ps-dropzone-remove {
  background: none; border: none; cursor: pointer; color: var(--text-muted);
  padding: 0.25rem; display: flex; align-items: center; border-radius: 6px;
  flex-shrink: 0; margin-left: auto;
  transition: color 0.15s, background 0.15s;
}
.ps-dropzone-remove:hover { color: var(--error-primary); background: var(--error-light); }

/* Multi-file variant */
.ps-dropzone--multi {
  cursor: pointer;
  padding: 1.75rem 1.5rem;
  text-align: center;
}

/* ── Hint bar ────────────────────────────────────────── */
.ps-hint {
  display: flex; align-items: flex-start; gap: 0.5rem;
  padding: 0.6875rem 0.875rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  margin-top: 0.75rem;
}
.ps-hint-icon { color: var(--warning-primary); flex-shrink: 0; margin-top: 2px; font-size: 0.8125rem; }
.ps-hint p    { font-size: 0.8125rem; color: var(--text-secondary); margin: 0; line-height: 1.55; }
.ps-hint strong { color: var(--text-primary); }

/* ── Status (loading / success / error) ──────────────── */
.ps-status {
  display: flex; flex-direction: column; align-items: center;
  text-align: center; padding: 1rem 0 0.5rem;
}
.ps-status-icon {
  width: 56px; height: 56px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.5rem; margin-bottom: 1rem;
  background: var(--bg-secondary); color: var(--text-muted);
}
.ps-status-icon--spin    { background: var(--accent-lighter); color: var(--accent-primary); }
.ps-status-icon--spin svg { animation: psSpin 0.8s linear infinite; }
.ps-status-icon--success { background: var(--success-light);  color: var(--success-primary); }
.ps-status-icon--warning { background: var(--warning-light);  color: var(--warning-primary); }
.ps-status-title  { font-size: 1.125rem; font-weight: 700; color: var(--text-primary); margin: 0 0 0.375rem; }
.ps-status-sub    { font-size: 0.875rem; color: var(--text-secondary); margin: 0 0 1.5rem; max-width: 320px; line-height: 1.5; }

/* ── Chips (result summary) ──────────────────────────── */
.ps-chips { display: flex; gap: 0.5rem; flex-wrap: wrap; justify-content: center; margin-bottom: 1.5rem; }

.ps-chip {
  display: flex; flex-direction: column; align-items: center; gap: 0.2rem;
  padding: 0.625rem 0.875rem;
  background: var(--bg-secondary); border: 1px solid var(--border-primary);
  border-radius: 8px; min-width: 80px;
}
.ps-chip-num   { font-size: 1.375rem; font-weight: 700; color: var(--accent-primary); line-height: 1; }
.ps-chip-label { font-size: 0.72rem;  color: var(--text-secondary); text-align: center; line-height: 1.3; }

.ps-chip--success { background: var(--success-light); border-color: rgba(16, 185, 129, 0.25); }
.ps-chip--success .ps-chip-check { font-size: 1.25rem; color: var(--success-primary); }

.ps-chip--neutral { background: var(--bg-secondary); border-color: var(--border-primary); }
.ps-chip--neutral .ps-chip-label { color: var(--text-secondary); }

/* ── Syllabi info strip ──────────────────────────────── */
.ps-syl-info {
  display: flex; flex-direction: column; gap: 0.5rem;
  margin-bottom: 1rem; padding: 0.875rem 1rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 10px;
}
.ps-syl-info-item {
  display: flex; align-items: center; gap: 0.6rem;
  font-size: 0.875rem; color: var(--text-secondary);
}
.ps-syl-info-icon       { color: var(--accent-primary);    flex-shrink: 0; font-size: 0.875rem; }
.ps-syl-info-icon--green { color: var(--success-primary); }

/* ── Uploaded file list ──────────────────────────────── */
.ps-syl-filelist {
  display: flex; flex-direction: column; gap: 0;
  margin-bottom: 1rem;
  border: 1px solid var(--border-primary);
  border-radius: 10px;
  overflow: hidden;
}
.ps-syl-filerow {
  display: flex; align-items: center; gap: 0.625rem;
  padding: 0.6rem 0.875rem;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-primary);
  font-size: 0.875rem;
}
.ps-syl-filerow:last-of-type { border-bottom: none; }

.ps-syl-filerow-icon { color: var(--accent-primary); flex-shrink: 0; font-size: 0.875rem; }
.ps-syl-filerow-name {
  flex: 1; color: var(--text-primary); font-weight: 500;
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.ps-syl-filerow-size { color: var(--text-muted); font-size: 0.8125rem; white-space: nowrap; }
.ps-syl-filerow-remove {
  background: none; border: none; cursor: pointer;
  color: var(--text-muted); padding: 0.25rem; border-radius: 4px;
  display: flex; align-items: center; font-size: 0.875rem;
  transition: color 0.15s, background 0.15s;
}
.ps-syl-filerow-remove:hover { color: var(--error-text); background: var(--error-light); }

.ps-syl-add-more {
  display: flex; align-items: center; gap: 0.4rem;
  padding: 0.5rem 0.875rem; background: none; border: none; cursor: pointer;
  color: var(--accent-primary); font-size: 0.8125rem; font-weight: 600;
  font-family: inherit; width: 100%;
  transition: background 0.15s;
}
.ps-syl-add-more:hover { background: var(--accent-lighter); }

/* ── Per-file error list ─────────────────────────────── */
.ps-syl-errors {
  margin-top: 0.75rem; padding: 0.75rem 0.875rem;
  background: var(--error-light); border-radius: 8px;
  display: flex; flex-direction: column; gap: 0.375rem;
}
.ps-syl-error-row {
  display: flex; align-items: center; gap: 0.5rem;
  font-size: 0.8125rem; color: var(--error-text); margin: 0;
}

/* ── Responsive ──────────────────────────────────────── */
@media (max-width: 600px) {
  .ps-container { border-radius: 12px; padding: 1.5rem 1.25rem 1.375rem; }
  .ps-row       { grid-template-columns: 1fr; }
  .ps-page      { align-items: flex-start; padding-top: 1.5rem; }
}